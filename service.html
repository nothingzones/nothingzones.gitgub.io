<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service - Nothing Space</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --bg: #000; --card: #0c0c0c; --text: #fff; --dot-bg: #222; --border: #1a1a1a; --instr: #bbb; --accent: #ff0000; color-scheme: light dark; }
        [data-theme="light"] { --bg: #fff; --card: #f5f5f5; --text: #000; --dot-bg: #ddd; --border: #eee; --instr: #333; }
        [data-theme="dark"] { --bg: #000; --card: #0c0c0c; --text: #fff; --dot-bg: #250; --border: #1a1a1a; --instr: #bbb; }
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: var(--text); font-family: 'VT323', monospace; width: 100%; min-height: 100vh; overflow-x: hidden; display: flex; align-items: center; justify-content: center; transition: 0.3s; }
        
        /* BACKGROUNDS */
        .stars-container { position: fixed; inset: 0; z-index: -1; background: var(--bg); pointer-events: none; }
        .star { position: absolute; background: var(--text); border-radius: 50%; opacity: 0; animation: blink 3s infinite; }
        @keyframes blink { 0%,100% { opacity:0; } 50% { opacity:1; } }
        .canvas { position: fixed; inset: 0; background-image: radial-gradient(var(--dot-bg) 1.2px, transparent 1.2px); background-size: 32px 32px; z-index: -1; opacity: 0.5; pointer-events: none; }
        .moon { position: fixed; width: 80px; height: 80px; top: 10%; left: 10%; background: #d1d1d1; border-radius: 50%; z-index: -1; opacity: 0.5; box-shadow: inset -15px -15px 30px rgba(0,0,0,0.5), 0 0 20px rgba(255,255,255,0.2); }

        .page-wrapper { background: var(--bg); border: 1px solid var(--border); width: 90%; max-width: 500px; max-height: 85vh; border-radius: 35px; padding: 30px; position: relative; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); animation: bounceIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); overflow-y:auto; }
        @keyframes bounceIn { 0% { transform: scale(0.7) translateY(50px); opacity:0; } 100% { transform: scale(1) translateY(0); opacity:1; } }
        .close-icon { position: absolute; right: 25px; top: 25px; font-size: 2.2rem; cursor: pointer; opacity: 0.5; color: var(--text); text-decoration: none; z-index: 10; }
        h2 { margin-bottom: 20px; font-size: 2rem; line-height: 1; text-transform: uppercase; }

        /* INPUTS & ARROWS */
        .input-group { position: relative; width: 100%; margin-bottom: 18px; display: flex; align-items: center; }
        select { width: 100%; padding: 20px; background: var(--card); border: 1px solid var(--border); color: var(--text); border-radius: 22px; font-size: 1.6rem; outline: none; appearance: none; font-family: 'VT323'; text-transform: uppercase; }
        .arrow-wrapper { position: absolute; right: 25px; pointer-events: none; color: var(--text); }
        .dot-arrow { width: 20px; height: 10px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 1px; }
        .dot-row { display: flex; gap: 2px; }
        .dot { width: 2.5px; height: 2.5px; background: var(--text); border-radius: 50%; }

        .detail-card { background: var(--card); border: 1px solid var(--border); border-radius: 30px; padding: 25px; margin-top: 20px; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .sc-badge { background: #222; color: #888; padding: 4px 10px; border-radius: 8px; font-size: 0.9rem; border: 1px solid var(--border); }
        .btn { width: 100%; padding: 12px; border-radius: 20px; border: none; background: var(--text); color: var(--bg); font-size: 1.4rem; cursor: pointer; font-weight: bold; font-family: 'VT323'; }
    </style>
</head>
<body>
    <div class="stars-container" id="starField"></div>
    <div class="canvas"></div>
    <div class="moon"></div>

    <div class="page-wrapper">
        <a href="index.html" class="close-icon">Ã—</a>
        <h2>SERVICE CENTERS</h2>
        
        <div class="input-group">
            <select id="state" onchange="loadCities()">
                <option value="">SELECT STATE</option>
                <option value="BIHAR">BIHAR</option>
                <option value="DELHI">DELHI</option>
                <option value="MAHARASHTRA">MAHARASHTRA</option>
                <option value="KARNATAKA">KARNATAKA</option>
                <option value="WEST BENGAL">WEST BENGAL</option>
            </select>
            <div class="arrow-wrapper"><div class="dot-arrow"><div class="dot-row"><div class="dot"></div><div class="dot" style="visibility:hidden"></div><div class="dot"></div></div><div class="dot-row"><div class="dot"></div><div class="dot"></div></div><div class="dot-row"><div class="dot"></div></div></div></div>
        </div>
        
        <div class="input-group">
            <select id="city" onchange="showDetails()" style="display:none"></select>
            <div class="arrow-wrapper" id="cityArrow" style="display:none"><div class="dot-arrow"><div class="dot-row"><div class="dot"></div><div class="dot" style="visibility:hidden"></div><div class="dot"></div></div><div class="dot-row"><div class="dot"></div><div class="dot"></div></div><div class="dot-row"><div class="dot"></div></div></div></div>
        </div>
        
        <div id="scInfo"></div>
    </div>

    <script>
        let SERVICE_DB = {};
        window.onload = async function() {
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            document.documentElement.setAttribute('data-theme', prefersDark ? 'dark' : 'light');
            const f = document.getElementById('starField');
            for(let i=0; i<100; i++) { const s = document.createElement('div'); s.className = 'star'; const z = Math.random()*3; s.style.cssText = `width:${z}px; height:${z}px; top:${Math.random()*100}%; left:${Math.random()*100}%; animation: blink ${2+Math.random()*3}s infinite; opacity:${Math.random()}`; f.appendChild(s); }
            
            try {
                const r = await fetch("https://raw.githubusercontent.com/nothingcommunity/Testing/main/Service%20Centre/service_centre.json");
                SERVICE_DB = await r.json();
            } catch(e) {}
        };

        function loadCities() {
            const s = document.getElementById('state').value, c = document.getElementById('city'), a = document.getElementById('cityArrow');
            c.innerHTML = '<option value="">SELECT CITY</option>';
            if(!s || !SERVICE_DB[s]) { c.style.display = 'none'; a.style.display = 'none'; return; }
            c.style.display = 'block'; a.style.display = 'block';
            [...new Set(Object.keys(SERVICE_DB[s]).map(k => k.split('_')[0]))].sort().forEach(k => c.innerHTML += `<option value="${k}">${k}</option>`);
        }

        function showDetails() {
            const s = document.getElementById('state').value, c = document.getElementById('city').value, d = document.getElementById('scInfo');
            if(!c || !SERVICE_DB[s]) return;
            d.innerHTML = '';
            Object.keys(SERVICE_DB[s]).filter(k => k === c || k.startsWith(c + "_")).forEach(k => {
                const i = SERVICE_DB[s][k];
                d.innerHTML += `<div class="detail-card"><div style="display:flex;justify-content:space-between;margin-bottom:10px;"><h3 style="font-size:1.4rem;">${i.n}</h3><span class="sc-badge">ID: ${i.c}</span></div><p style="text-transform:none;opacity:0.7;font-size:1rem;margin-bottom:15px;">${i.a}</p><div style="font-size:0.9rem;margin-bottom:15px;"><p>ðŸ•’ TIME: ${i.t}</p><p>ðŸš« OFF : ${i.o}</p></div><div style="display:flex;gap:10px;"><button class="btn" onclick="window.open('tel:${i.p}')">CALL</button><button class="btn" onclick="window.open('${i.m}')">MAPS</button></div></div>`;
            });
        }
    </script>
</body>
</html>
